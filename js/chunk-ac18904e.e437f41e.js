(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ac18904e"],{"176a":function(t,a,e){"use strict";e("d81d"),e("d3b7");function n(t,a){return a.map((function(a){return t.map((function(t){return a[t]}))}))}a["a"]=function(t){var a=t.header,s=t.filterVal,i=t.list,r=t.filename,c=t.autoWidth,o=t.bookType;e.e("chunk-114a0750").then(e.bind(null,"4bf8")).then((function(t){var e=n(s,i);t.export_json_to_excel({header:a,data:e,filename:r||"excel",autoWidth:!1!==c&&c,bookType:o||"xlsx"})}))}},"335c":function(t,a,e){"use strict";var n=e("7a92"),s=e.n(n);s.a},3783:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"container"},[e("div",{staticClass:"reback"},[e("a-icon",{staticClass:"left-circle",attrs:{type:"left-circle"},on:{click:t.reback}}),t._v("返回上一级")],1),e("div",{staticClass:"space"}),e("div",{staticClass:"basic"},[e("div",{staticClass:"basic_title"},[t._v("基本数据")]),e("div",{staticClass:"basic_content"},[e("div",{staticClass:"basic_top"},[e("span",{staticClass:"basic_name"},[t._v("项目:"+t._s(t.dataDetail.projectName))]),null===t.dataDetail.salesName?e("span",{staticClass:"basic_sales"},[t._v("归属销售：--")]):e("span",{staticClass:"basic_sales"},[t._v("归属销售："+t._s(t.dataDetail.salesName))])]),e("div",{staticStyle:{padding:"0px 32px",width:"100%"}},[e("a-card",{staticClass:"card"},[e("p",{staticClass:"card_title"},[t._v("培训完成率")]),e("a-tooltip",{staticStyle:{position:"relative",top:"-10px"},attrs:{placement:"top"}},[e("template",{slot:"title"},[t._v(" 培训完成率=顾问完成分数/满分 ")]),e("a-icon",{attrs:{type:"exclamation-circle"}})],2),e("div",{staticClass:"card_detail"},[e("span",{staticClass:"card_number"},[t._v(t._s(t.dataDetail.trainCompletionRate)+"%")]),e("span",{staticClass:"card_total"})])],1),e("a-card",{staticClass:"card"},[e("p",{staticClass:"card_title"},[t._v("完成培训人数")]),e("a-tooltip",{staticStyle:{position:"relative",top:"-10px"},attrs:{placement:"top"}},[e("template",{slot:"title"},[t._v(" 定义为完成所有标准动作 ")]),e("a-icon",{attrs:{type:"exclamation-circle"}})],2),e("div",{staticClass:"card_detail"},[e("span",{staticClass:"card_number"},[t._v(t._s(t.dataDetail.trainCompletionCount))]),e("span",{staticClass:"card_total"},[t._v("/"+t._s(t.dataDetail.totalCount))])])],1),e("a-card",{staticClass:"card"},[e("p",{staticClass:"card_title"},[t._v("完成注册顾问")]),e("div",{staticClass:"card_detail"},[e("span",{staticClass:"card_number"},[t._v(t._s(t.dataDetail.registerCount))]),e("span",{staticClass:"card_total"},[t._v("/"+t._s(t.dataDetail.totalCount))])])]),e("a-card",{staticClass:"card"},[e("p",{staticClass:"card_title"},[t._v("完成发名片顾问")]),e("div",{staticClass:"card_detail"},[e("span",{staticClass:"card_number"},[t._v(t._s(t.dataDetail.sendCardCount))]),e("span",{staticClass:"card_total"},[t._v("/"+t._s(t.dataDetail.totalCount))])])]),e("a-card",{staticClass:"card"},[e("p",{staticClass:"card_title"},[t._v("完成推楼盘")]),e("div",{staticClass:"card_detail"},[e("span",{staticClass:"card_number"},[t._v(t._s(t.dataDetail.recommendBuildingCount))]),e("span",{staticClass:"card_total"},[t._v("/"+t._s(t.dataDetail.totalCount))])])]),e("a-card",{staticClass:"card"},[e("p",{staticClass:"card_title"},[t._v("完成线下拓客")]),e("div",{staticClass:"card_detail"},[e("span",{staticClass:"card_number"},[t._v(t._s(t.dataDetail.extendCustomerCount))]),e("span",{staticClass:"card_total"},[t._v("/"+t._s(t.dataDetail.totalCount))])])]),e("a-card",{staticClass:"card"},[e("p",{staticClass:"card_title"},[t._v("完成推微沙盘")]),e("div",{staticClass:"card_detail"},[e("span",{staticClass:"card_number"},[t._v(t._s(t.dataDetail.recommendSandTableCount))]),e("span",{staticClass:"card_total"},[t._v("/"+t._s(t.dataDetail.totalCount))])])]),e("a-card",{staticClass:"card"},[e("p",{staticClass:"card_title"},[t._v("完成推活动")]),e("div",{staticClass:"card_detail"},[e("span",{staticClass:"card_number"},[t._v(t._s(t.dataDetail.recommendActivityCount))]),e("span",{staticClass:"card_total"},[t._v("/"+t._s(t.dataDetail.totalCount))])])]),e("a-card",{staticClass:"card"},[e("p",{staticClass:"card_title"},[t._v("完成推文章")]),e("div",{staticClass:"card_detail"},[e("span",{staticClass:"card_number"},[t._v(t._s(t.dataDetail.recommendArticleCount))]),e("span",{staticClass:"card_total"},[t._v("/"+t._s(t.dataDetail.totalCount))])])])],1)])]),e("div",{staticClass:"space"}),e("div",{staticClass:"tableTop"},[e("div",{staticClass:"tableTop_rank"},[t._v("人员详细数据")]),t._v(" 搜索： "),e("div",{staticClass:"tableTop_search"},[e("a-input",{attrs:{placeholder:"顾问姓名/电话",allowClear:""},on:{pressEnter:t.searchKey},model:{value:t.key,callback:function(a){t.key=a},expression:"key"}})],1),e("a-button",{staticClass:"tableTop_btn",attrs:{type:"primary",icon:"download",loading:t.downloadLoading},on:{click:t.exportExcel}},[t._v("导出排名数据")])],1),e("a-table",t._g(t._b({staticStyle:{padding:"20px"},attrs:{bordered:""}},"a-table",t.tableInfo.attrs,!1),t.tableInfo.events))],1)},s=[],i=(e("d81d"),e("176a")),r={data:function(){var t=this;return{sorter:{},key:"",loading:!1,dataDetail:{totalCount:"",trainCompletionRate:"",trainCompletionCount:"",registerCount:"",sendCardCount:"",recommendBuildingCount:"",extendCustomerCount:"",recommendSandTableCount:"",recommendActivityCount:"",recommendArticleCount:"",salesName:""},projectCode:"",tableInfo:{selects:[],attrs:{scroll:{x:1200},columns:this.getTableColumns(),dataSource:[],customRow:function(t,a){return{style:{background:a%2===1?"rgba(247,248,252,1)":""}}},pagination:{total:0,current:1,pageSize:10,defaultCurrent:1,defaultPageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(t,a){return"总记录: ".concat(t)}},loading:!1},events:{change:function(a,e,n){t.tableInfo.attrs.pagination=a,t.sorter=n,t.getList()}}},downloadLoading:!1}},methods:{getTableColumns:function(){var t=this.$createElement,a=[{title:"姓名",width:160,dataIndex:"realName",align:"center"},{title:"电话",dataIndex:"phone",align:"center",customRender:function(a,e,n){return t("span",null===a?["--"]:[a])}},{title:"完成注册",width:160,dataIndex:"register",align:"center",sorter:function(t,a){return t.register-a.register},customRender:function(a,e,n){return t("span",1===a?[t("a-icon",{attrs:{type:"check"},style:"color:#52C41A"})]:[t("a-icon",{attrs:{type:"close"},style:"color:red"})])}},{title:"发名片",width:160,dataIndex:"sendCard",align:"center",sorter:function(t,a){return t.sendCard-a.sendCard},customRender:function(a,e,n){return t("span",1===a?[t("a-icon",{attrs:{type:"check"},style:"color:#52C41A"})]:[t("a-icon",{attrs:{type:"close"},style:"color:red"})])}},{title:"推楼盘",width:160,dataIndex:"recommendBuilding",align:"center",sorter:function(t,a){return t.recommendBuilding-a.recommendBuilding},customRender:function(a,e,n){return t("span",1===a?[t("a-icon",{attrs:{type:"check"},style:"color:#52C41A"})]:[t("a-icon",{attrs:{type:"close"},style:"color:red"})])}},{title:"线下拓客",width:160,dataIndex:"extendCustomer",align:"center",sorter:function(t,a){return t.extendCustomer-a.extendCustomer},customRender:function(a,e,n){return t("span",1===a?[t("a-icon",{attrs:{type:"check"},style:"color:#52C41A"})]:[t("a-icon",{attrs:{type:"close"},style:"color:red"})])}},{title:"推微沙盘",width:160,dataIndex:"recommendSandTable",align:"center",sorter:function(t,a){return t.recommendSandTable-a.recommendSandTable},customRender:function(a,e,n){return t("span",1===a?[t("a-icon",{attrs:{type:"check"},style:"color:#52C41A"})]:[t("a-icon",{attrs:{type:"close"},style:"color:red"})])}},{title:"推活动",width:160,dataIndex:"recommendActivity",align:"center",sorter:function(t,a){return t.recommendActivity-a.recommendActivity},customRender:function(a,e,n){return t("span",1===a?[t("a-icon",{attrs:{type:"check"},style:"color:#52C41A"})]:[t("a-icon",{attrs:{type:"close"},style:"color:red"})])}},{title:"推文章",width:160,dataIndex:"recommendArticle",align:"center",sorter:function(t,a){return t.recommendArticle-a.recommendArticle},customRender:function(a,e,n){return t("span",1===a?[t("a-icon",{attrs:{type:"check"},style:"color:#52C41A"})]:[t("a-icon",{attrs:{type:"close"},style:"color:red"})])}},{title:"完成率",width:160,dataIndex:"completionRate",align:"center",sorter:function(t,a){return t.completionRate-a.completionRate},customRender:function(a,e,n){return t("span",[a,"%"])}}];return a},getList:function(){var t=this;this.loading=!0;var a=this.tableInfo.attrs,e={descend:1,ascend:2},n={register:1,recommendBuilding:2,sendCard:3,extendCustomer:4,recommendActivity:5,recommendSandTable:6,recommendArticle:7,completionRate:8};this.$Api.getUserDetailData({key:this.key,page:a.pagination.current,limit:a.pagination.pageSize,sortOrder:e[this.sorter.order],projectCode:this.projectCode,sortField:n[this.sorter.field]}).then((function(e){200===e.code?(t.tableInfo.attrs.pagination.current=e.data.current,t.tableInfo.attrs.pagination.total=e.data.total,t.tableInfo.attrs.dataSource=e.data.list,t.loading=!1):(t.$message.error(e.msg),t.loading=!1),a.loading=!1})).catch((function(a){t.loading=!1}))},getTrainingData:function(){var t=this;this.$Api.getTrainingData(this.projectCode).then((function(a){t.dataDetail=a.data}))},searchKey:function(){this.getList()},exportExcel:function(){var t=this,a=this.tableInfo.attrs,e={descend:1,ascend:2},n={register:1,recommendBuilding:2,sendCard:3,extendCustomer:4,recommendActivity:5,recommendSandTable:6,recommendArticle:7,completionRate:8};this.downloadLoading=!0;var s=["姓名","账号","完成注册","发名片","推楼盘","线下拓客","推微沙盘","推活动","推文章","完成率"],r=["realName","phone","register","sendCard","recommendBuilding","extendCustomer","recommendSandTable","recommendActivity","recommendArticle","completionRate"];this.$Api.getUserDetailData({key:this.key,page:a.pagination.current,limit:99999,sortOrder:e[this.sorter.order],projectCode:this.projectCode,sortField:n[this.sorter.field]}).then((function(a){if(200===a.code){var e=a.data.list.map((function(t){var a={1:"是",0:"否"};return t.register=a[t.register],t.sendCard=a[t.sendCard],t.recommendBuilding=a[t.recommendBuilding],t.extendCustomer=a[t.extendCustomer],t.recommendSandTable=a[t.recommendSandTable],t.recommendActivity=a[t.recommendActivity],t.recommendArticle=a[t.recommendArticle],t.phone=null===t.phone?"--":t.phone,t.completionRate=t.completionRate+"%",t}));Object(i["a"])({header:s,filterVal:r,list:e,filename:"人员详细数据-排名数据"}),t.downloadLoading=!1}}))},reback:function(){this.$router.go(-1)}},mounted:function(){this.projectCode=this.$route.params.id,this.getList(),this.getTrainingData()}},c=r,o=(e("335c"),e("2877")),l=Object(o["a"])(c,n,s,!1,null,"173108a6",null);a["default"]=l.exports},"7a92":function(t,a,e){}}]);