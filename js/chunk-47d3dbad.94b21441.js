(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-47d3dbad"],{"0b7b":function(t,a,e){var n=e("8f95"),i=e("7463"),r=e("0363"),o=r("iterator");t.exports=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[n(t)]}},"0d10":function(t,a,e){"use strict";var n=e("dc7f"),i=e.n(n);i.a},1316:function(t,a,e){t.exports=e("9cd3")},2616:function(t,a,e){var n=e("0363"),i=e("7463"),r=n("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},"284c":function(t,a,e){"use strict";var n=e("1316"),i=e.n(n);function r(t){if(i()(t)){for(var a=0,e=new Array(t.length);a<t.length;a++)e[a]=t[a];return e}}var o=e("a06f"),s=e.n(o),c=e("2dc0"),l=e.n(c);function u(t){if(l()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return s()(t)}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function f(t){return r(t)||u(t)||d()}e.d(a,"a",(function(){return f}))},"2dc0":function(t,a,e){t.exports=e("588c")},"471b":function(t,a,e){"use strict";var n=e("194a"),i=e("4fff"),r=e("faaa"),o=e("2616"),s=e("6725"),c=e("6c15"),l=e("0b7b");t.exports=function(t){var a,e,u,d,f,p=i(t),v="function"==typeof this?this:Array,h=arguments.length,y=h>1?arguments[1]:void 0,_=void 0!==y,m=0,D=l(p);if(_&&(y=n(y,h>2?arguments[2]:void 0,2)),void 0==D||v==Array&&o(D))for(a=s(p.length),e=new v(a);a>m;m++)c(e,m,_?y(p[m],m):p[m]);else for(d=D.call(p),f=d.next,e=new v;!(u=f.call(d)).done;m++)c(e,m,_?r(d,y,[u.value,m],!0):u.value);return e.length=m,e}},"484e":function(t,a,e){var n=e("a5eb"),i=e("471b"),r=e("7de7"),o=!r((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:o},{from:i})},"588c":function(t,a,e){e("5145"),e("3e47"),t.exports=e("59d7")},"59d7":function(t,a,e){var n=e("8f95"),i=e("0363"),r=e("7463"),o=i("iterator");t.exports=function(t){var a=Object(t);return void 0!==a[o]||"@@iterator"in a||r.hasOwnProperty(n(a))}},"5ab9":function(t,a,e){e("e519");var n=e("764b");t.exports=n.Array.isArray},"74e7":function(t,a,e){t.exports=e("bc59")},"7de7":function(t,a,e){var n=e("0363"),i=n("iterator"),r=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){r=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(c){}t.exports=function(t,a){if(!a&&!r)return!1;var e=!1;try{var n={};n[i]=function(){return{next:function(){return{done:e=!0}}}},t(n)}catch(c){}return e}},"99af":function(t,a,e){"use strict";var n=e("23e7"),i=e("d039"),r=e("e8b5"),o=e("861d"),s=e("7b0b"),c=e("50c4"),l=e("8418"),u=e("65f0"),d=e("1dde"),f=e("b622"),p=e("60ae"),v=f("isConcatSpreadable"),h=9007199254740991,y="Maximum allowed index exceeded",_=p>=51||!i((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),m=d("concat"),D=function(t){if(!o(t))return!1;var a=t[v];return void 0!==a?!!a:r(t)},g=!_||!m;n({target:"Array",proto:!0,forced:g},{concat:function(t){var a,e,n,i,r,o=s(this),d=u(o,0),f=0;for(a=-1,n=arguments.length;a<n;a++)if(r=-1===a?o:arguments[a],D(r)){if(i=c(r.length),f+i>h)throw TypeError(y);for(e=0;e<i;e++,f++)e in r&&l(d,f,r[e])}else{if(f>=h)throw TypeError(y);l(d,f++,r)}return d.length=f,d}})},"9cd3":function(t,a,e){t.exports=e("5ab9")},a06f:function(t,a,e){t.exports=e("74e7")},a918:function(t,a,e){"use strict";var n=e("d9d5"),i=e.n(n);i.a},bc59:function(t,a,e){e("3e47"),e("484e");var n=e("764b");t.exports=n.Array.from},c449d:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("DetailTable")],1)},i=[],r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("div",{staticClass:"data"},[e("div",{staticClass:"data_title"},[t._v("基本指标 ")]),e("div",{staticStyle:{"margin-left":"50px"}},[e("a-card",{staticClass:"card"},[e("p",{staticClass:"card_title"},[t._v("项目总数")]),e("a-tooltip",{staticStyle:{position:"relative",top:"-10px"},attrs:{placement:"top"}},[e("template",{slot:"title"},[t._v(" boss的营销云项目总数，包括待上线、运行中、已过期的项目的总数 ")]),e("a-icon",{attrs:{type:"exclamation-circle"}})],2),e("div",{staticClass:"card_detail"},[e("span",{staticClass:"number",on:{click:function(a){return t.showDataDetail("total")}}},[t._v(t._s(t.keyData.total))]),t._v("个")]),e("div",{staticClass:"desc",class:{"desc--down":t.keyData.totalMonthDiff<0}},[e("span",{staticClass:"desc_title"},[t._v("上月同期")]),t._v(t._s(t.keyData.totalMonthDiff)+"个"),e("a-icon",{attrs:{type:t.keyData.totalMonthDiff<0?"caret-down":"caret-up"}})],1)],1),e("a-card",{staticClass:"card"},[e("p",{staticClass:"card_title"},[t._v("运行中项目数")]),e("div",{staticClass:"card_detail"},[e("span",{staticClass:"number",on:{click:function(a){return t.showDataDetail("inuse")}}},[t._v(t._s(t.keyData.inuse))]),t._v("个")]),e("div",{staticClass:"desc",class:{"desc--down":t.keyData.inuseMonthDiff<0}},[e("span",{staticClass:"desc_title"},[t._v("上月同期")]),t._v(t._s(t.keyData.inuseMonthDiff)+"个"),e("a-icon",{attrs:{type:t.keyData.inuseMonthDiff<0?"caret-down":"caret-up"}})],1)]),e("a-card",{staticClass:"card"},[e("p",{staticClass:"card_title"},[t._v("待上线项目")]),e("a-tooltip",{staticStyle:{position:"relative",top:"-10px"},attrs:{placement:"top"}},[e("template",{slot:"title"},[t._v(" 目前已经签约，并在准备上线，但是还未投产的项目 ")]),e("a-icon",{attrs:{type:"exclamation-circle"}})],2),e("div",{staticClass:"card_detail"},[e("span",{staticClass:"number",on:{click:function(a){return t.showDataDetail("waiting")}}},[t._v(t._s(t.keyData.waiting))]),t._v("个")]),e("div",{staticClass:"desc",class:{"desc--down":t.keyData.waitingMonthDiff<0}},[e("span",{staticClass:"desc_title"},[t._v("上月同期")]),t._v(t._s(t.keyData.waitingMonthDiff)+"个"),e("a-icon",{attrs:{type:t.keyData.waitingMonthDiff<0?"caret-down":"caret-up"}})],1)],1),e("a-card",{staticClass:"card"},[e("p",{staticClass:"card_title"},[t._v("临到期项目")]),e("a-tooltip",{staticStyle:{position:"relative",top:"-10px"},attrs:{placement:"top"}},[e("template",{slot:"title"},[t._v(" 有效期还剩15天的项目数 ")]),e("a-icon",{attrs:{type:"exclamation-circle"}})],2),e("div",{staticClass:"card_detail"},[e("span",{staticClass:"number",on:{click:function(a){return t.showDataDetail("comingPeriod")}}},[t._v(t._s(t.keyData.comingPeriod))]),t._v("个")]),e("div",{staticClass:"desc",class:{"desc--down":t.keyData.comingPeriodMonthDiff<0}},[e("span",{staticClass:"desc_title"},[t._v("上月同期")]),t._v(t._s(t.keyData.comingPeriodMonthDiff)+"个"),e("a-icon",{attrs:{type:t.keyData.comingPeriodMonthDiff<0?"caret-down":"caret-up"}})],1)],1),e("a-card",{staticClass:"card"},[e("p",{staticClass:"card_title"},[t._v("总PV")]),e("a-tooltip",{staticStyle:{position:"relative",top:"-10px"},attrs:{placement:"top"}},[e("template",{slot:"title"},[t._v(" 所有项目上线到昨天，用户访问营销云的页面数的总和 ")]),e("a-icon",{attrs:{type:"exclamation-circle"}})],2),e("div",{staticClass:"card_detail"},[e("span",{staticClass:"number",on:{click:function(a){return t.showDataDetail("pv")}}},[t._v(t._s(t.numberFormat(t.keyData.pv).value))]),t._v(t._s(t.numberFormat(t.keyData.pv).unit))]),e("div",{staticClass:"desc",class:{"desc--down":t.keyData.pvMonthDiff<0}},[e("span",{staticClass:"desc_title"},[t._v("上月同期")]),t._v(t._s(t.numberFormat(t.keyData.pvMonthDiff))),e("a-icon",{attrs:{type:t.keyData.pvMonthDiff<0?"caret-down":"caret-up"}})],1)],1),e("a-card",{staticClass:"card"},[e("p",{staticClass:"card_title"},[t._v("总UV")]),e("a-tooltip",{staticStyle:{position:"relative",top:"-10px"},attrs:{placement:"top"}},[e("template",{slot:"title"},[t._v(" 所有项目上线到昨天，单个项目的用户总数的总和 ")]),e("a-icon",{attrs:{type:"exclamation-circle"}})],2),e("div",{staticClass:"card_detail"},[e("span",{staticClass:"number",on:{click:function(a){return t.showDataDetail("uv")}}},[t._v(t._s(t.numberFormat(t.keyData.uv).value))]),t._v(t._s(t.numberFormat(t.keyData.uv).unit))]),e("div",{staticClass:"desc",class:{"desc--down":t.keyData.uvMonthDiff<0}},[e("span",{staticClass:"desc_title"},[t._v("上月同期")]),t._v(t._s(t.numberFormat(t.keyData.uvMonthDiff))),e("a-icon",{attrs:{type:t.keyData.uvMonthDiff<0?"caret-down":"caret-up"}})],1)],1),e("a-card",{staticClass:"card"},[e("p",{staticClass:"card_title"},[t._v("留电用户数")]),e("a-tooltip",{staticStyle:{position:"relative",top:"-10px"},attrs:{placement:"top"}},[e("template",{slot:"title"},[t._v(" 计算本月所有项目留下电话号码的数量，累加去重，即为留电用户数 ")]),e("a-icon",{attrs:{type:"exclamation-circle"}})],2),e("div",{staticClass:"card_detail"},[e("span",{staticClass:"number",on:{click:function(a){return t.showDataDetail("stayPhone")}}},[t._v(t._s(t.numberFormat(t.keyData.stayPhone).value))]),t._v(t._s(t.numberFormat(t.keyData.stayPhone).unit))]),e("div",{staticClass:"desc",class:{"desc--down":t.keyData.stayPhoneMonthDiff<0}},[e("span",{staticClass:"desc_title"},[t._v("上月同期")]),t._v(t._s(t.numberFormat(t.keyData.stayPhoneMonthDiff))),e("a-icon",{attrs:{type:t.keyData.stayPhoneMonthDiff<0?"caret-down":"caret-up"}})],1)],1),e("a-card",{staticClass:"card"},[e("p",{staticClass:"card_title"},[t._v("置业顾问数")]),e("a-tooltip",{staticStyle:{position:"relative",top:"-10px"},attrs:{placement:"top"}},[e("template",{slot:"title"},[t._v(" 计算所有项目的置业顾问数量，按手机号去重，即为置业顾问数 ")]),e("a-icon",{attrs:{type:"exclamation-circle"}})],2),e("div",{staticClass:"card_detail"},[e("span",{staticClass:"number",on:{click:function(a){return t.showDataDetail("counselor")}}},[t._v(t._s(t.numberFormat(t.keyData.counselor).value))]),t._v(t._s(t.numberFormat(t.keyData.counselor).unit))]),e("div",{staticClass:"desc",class:{"desc--down":t.keyData.counselorMonthDiff<0}},[e("span",{staticClass:"desc_title"},[t._v("上月同期")]),t._v(t._s(t.numberFormat(t.keyData.counselorMonthDiff))),e("a-icon",{attrs:{type:t.keyData.counselorMonthDiff<0?"caret-down":"caret-up"}})],1)],1)],1)]),e("div",{staticClass:"chartData"},[e("div",{staticClass:"data_title",staticStyle:{"margin-bottom":"20px"}},[t._v("项目使用数据")]),e("a-radio-group",{staticStyle:{"margin-left":"20px"},on:{change:t.radioGroupHandle},model:{value:t.radioValue,callback:function(a){t.radioValue=a},expression:"radioValue"}},[e("a-radio-button",{attrs:{value:"pv"}},[t._v("总PV/UV")]),e("a-radio-button",{attrs:{value:"stayPhone"}},[t._v("总留电人数")]),e("a-radio-button",{attrs:{value:"share"}},[t._v("总分享/二次分享次数")])],1),e("div",{staticClass:"data-wrapper__content"},[e("ChartLine",{attrs:{name:"dataTrend",sourceData:t.dataTrendData,options:t.dataTrendOptions}})],1)],1),e("div",{staticClass:"table"},[e("div",{staticClass:"data_title"},[t._v("项目排名TOP20"),e("span",{staticStyle:{color:"#aaa","font-size":"12px"}},[t._v("（点击项目名称可查看项目详情）")]),e("span",{staticStyle:{color:"#1890FF","font-size":"15px",float:"right","margin-right":"20px",cursor:"pointer"},on:{click:t.enterProjectList}},[t._v("所有项目")])]),e("a-table",t._g(t._b({staticStyle:{padding:"20px"},attrs:{bordered:""}},"a-table",t.tableInfo.attrs,!1),t.tableInfo.events))],1)])},o=[],s=(e("99af"),e("d81d"),e("b680"),e("284c")),c=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:t.name}})},l=[],u=(e("4e82"),e("ac1f"),e("5319"),e("2fa7")),d=e("0d5c"),f={name:"chartLine",mixins:[d["a"]],methods:{initChart:function(){var t=this.options,a=t.shape,e=void 0===a?"line":a,n=t.area,i=void 0!==n&&n,r=t.sort,o=void 0===r?"":r,s=t.xKey,c=void 0===s?"date":s,l=t.yKey,d=void 0===l?"value":l;this.chartDefault(),this.chart.source(this.sourceData,Object(u["a"])({},c,{tickCount:30})),this.chart.axis(c,{label:{textStyle:{fill:"#aaa"}}}),this.chart.axis(d,{label:{textStyle:{fill:"#aaa"},formatter:function(t){return t.replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")}}}),o||this.chart.tooltip({showTitle:!1,itemTpl:"<span>{value}</span>"}),i?this.chart.area().position(c+"*"+d).shape(e):this.chart.line().position(c+"*"+d).color(o).shape(e),this.chart.render()}}},p=f,v=e("2877"),h=Object(v["a"])(p,c,l,!1,null,"5db680ce",null),y=h.exports,_={data:function(){var t=this;return{sorter:{},radioValue:"pv",dataTrendOptions:{sort:"type"},keyData:{total:"",totalMonthDiff:"",inuse:"",inuseMonthDiff:"",waiting:"",waitingMonthDiff:"",comingPeriod:"",comingPeriodMonthDiff:"",pv:"",pvMonthDiff:"",uv:"",uvMonthDiff:"",stayPhone:"",stayPhoneMonthDiff:"",counselor:"",counselorMonthDiff:""},dataTrendData:[],tableInfo:{selects:[],attrs:{scroll:{x:1200},columns:this.getTableColumns(),dataSource:[],customRow:function(t,a){return{style:{background:a%2===1?"rgba(247,248,252,1)":""}}},pagination:{total:0,current:1,pageSize:10,defaultCurrent:1,defaultPageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(t,a){return"总记录: ".concat(t)}},loading:!1},events:{change:function(a,e,n){t.tableInfo.attrs.pagination=a,t.sorter=n,t.getProjectRank()}}}}},components:{ChartLine:y},methods:{getTableColumns:function(){var t=this,a=this.$createElement,e=[{title:"项目名称",width:200,dataIndex:"appName",align:"center",customRender:function(e,n,i){return a("span",{style:"cursor:pointer",on:{click:function(){t.clickProject(n)}}},[e])}},{title:"总PV",width:150,dataIndex:"pv",align:"center",sorter:function(t,a){return t.pv-a.pv}},{title:"总UV",width:150,dataIndex:"uv",align:"center",sorter:function(t,a){return t.uv-a.uv}},{title:"置业顾问人数",width:150,dataIndex:"counselor",align:"center",sorter:function(t,a){return t.counselor-a.counselor},customRender:function(t,e,n){return a("span",[e.counselor])}},{title:"分享数",width:150,dataIndex:"share",align:"center",sorter:function(t,a){return t.share-a.share},customRender:function(t,e,n){return a("span",[e.share])}},{title:"二次分享数",width:150,dataIndex:"secondShare",align:"center",sorter:function(t,a){return t.secondShare-a.secondShare}},{title:"留电用户数",width:150,dataIndex:"stayPhone",align:"center",sorter:function(t,a){return t.stayPhone-a.stayPhone}},{title:"到期时间",width:200,dataIndex:"expirationDate",align:"center"}];return e},radioGroupHandle:function(t){this.radioValue=t.target.value,this.getProjectUsage()},enterProjectList:function(){this.$router.push("/projectList")},clickProject:function(t){this.$router.push("/projectData/".concat(t.appCode,"&").concat(t.appName))},showDataDetail:function(t){},getBasicData:function(){var t=this;this.$Api.getProjectData().then((function(a){t.keyData=a.data}))},getProjectUsage:function(){var t=this,a=this.radioValue;this.$Api.getProjectUsage().then((function(e){if("pv"===a){var n=e.data.list.map((function(t,a){return{date:t.dt,value:t.pv,type:"总PV"}})),i=e.data.list.map((function(t,a){return{date:t.dt,value:t.uv,type:"总UV"}}));t.dataTrendData=[].concat(Object(s["a"])(n),Object(s["a"])(i))}else if("share"===a){var r=e.data.list.map((function(t,a){return{date:t.dt,value:t.share,type:"总分享"}})),o=e.data.list.map((function(t,a){return{date:t.dt,value:t.secondShare,type:"二次分享次数"}}));t.dataTrendData=[].concat(Object(s["a"])(r),Object(s["a"])(o))}else t.dataTrendData=e.data.list.map((function(t,e){return{date:t.dt,value:t[a],type:""}}))}))},getProjectRank:function(){var t=this,a={pv:null,uv:1,counselor:2,share:3,secondShare:4,stayPhone:5},e=this.tableInfo.attrs;this.$Api.getProjectRank({pageNo:e.pagination.current,pageSize:e.pagination.pageSize,orderType:a[this.sorter.field]}).then((function(a){200===a.code?(t.tableInfo.attrs.pagination.current=a.data.current,t.tableInfo.attrs.pagination.total=a.data.total,t.tableInfo.attrs.dataSource=a.data.list):t.$message.error(a.msg),e.loading=!1}))},numberFormat:function(t){var a,e={},n=1e4,i=["个","万","亿","万亿"];return t>0?(t<n?(e.value=t,e.unit="个"):(a=Math.floor(Math.log(t)/Math.log(n)),e.value=(t/Math.pow(n,a)).toFixed(2),e.unit=i[a]),e):(t=Math.abs(t),t<n?(e.value=t,e.unit="个"):(a=Math.floor(Math.log(t)/Math.log(n)),e.value=(t/Math.pow(n,a)).toFixed(2),e.unit=i[a]),"-"+e.value+e.unit)}},mounted:function(){this.getBasicData(),this.getProjectRank(),this.getProjectUsage()}},m=_,D=(e("a918"),Object(v["a"])(m,r,o,!1,null,"6f2a8e72",null)),g=D.exports,b={data:function(){return{}},components:{DetailTable:g},methods:{}},C=b,w=(e("0d10"),Object(v["a"])(C,n,i,!1,null,"72682e48",null));a["default"]=w.exports},d9d5:function(t,a,e){},dc7f:function(t,a,e){},e519:function(t,a,e){var n=e("a5eb"),i=e("6220");n({target:"Array",stat:!0},{isArray:i})},faaa:function(t,a,e){var n=e("6f8d");t.exports=function(t,a,e,i){try{return i?a(n(e)[0],e[1]):a(e)}catch(o){var r=t["return"];throw void 0!==r&&n(r.call(t)),o}}}}]);